<mat-toolbar>
    <span>TSE Mobilities: Search mobility</span>
</mat-toolbar>

<app-navigation-bar [actualMenuIndex]=2></app-navigation-bar>
<mat-divider></mat-divider>

<mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Filters
            <mat-icon>filter_alt</mat-icon>
        </mat-panel-title>
        <mat-panel-description>
            <!-- No panel description -->
        </mat-panel-description>
    </mat-expansion-panel-header>
    
    <!-- STUDENT FILTER -->
    <form [formGroup]="searchFormGroup">
        <mat-form-field appearance="fill">
            <mat-label>Firstname Lastname</mat-label>
            <mat-select [formControl]="searchFormGroup.controls.studentControl">
                <mat-option >--</mat-option>
                <mat-option *ngFor="let student of students" [value]="student">
                {{ student.firstname }} {{ student.lastname }}
                </mat-option>
            </mat-select>
            <mat-hint>{{ searchFormGroup.controls.studentControl.value?.sound }}</mat-hint>
        </mat-form-field>

        <br />
        <!-- STUDENT CLASS FILTER -->
        <mat-form-field appearance="fill">
          <mat-label>Class</mat-label>
          <input matInput formControlName="classControl" placeholder="FISE3"/>
        </mat-form-field>

        <br />
        <!-- COUNTRY FILTER -->
        <mat-form-field appearance="fill">
            <mat-label>Country</mat-label>
            <input matInput formControlName="countryControl" placeholder="Japon"/>
        </mat-form-field>

        <br />
        <!-- DATE FILTER -->
        <mat-form-field appearance="fill">
            <mat-label>Date</mat-label>
            <input matInput [matDatepicker]="datepicker" formControlName="dateControl">
            <mat-datepicker-toggle matSuffix [for]="datepicker"></mat-datepicker-toggle>
            <mat-datepicker #datepicker>
              <mat-datepicker-actions>
                <button mat-button matDatepickerCancel>Cancel</button>
                <button mat-raised-button color="primary" matDatepickerApply>Apply</button>
              </mat-datepicker-actions>
            </mat-datepicker>
          </mat-form-field>
    </form>
    <button mat-raised-button (click)="filterMobilities()">Search</button>

</mat-expansion-panel>

<app-mobility-list></app-mobility-list>